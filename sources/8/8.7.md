好的，这是一个非常全面的问题，涵盖了Android文件系统、应用权限和其演进历史。我将为您详细分解。

### 一、 Android 系统关键目录解析

Android 文件系统基于 Linux，有严格的目录结构。以下是与应用相关的重要目录：

| 路径 | 名称 | 描述 | 可访问性 |
| :--- | :--- | :--- | :--- |
| `/system/` | **系统分区** | 存放 Android OS 本身的核心文件。刷入 ROM 时被写入。通常是**只读**的。 | **受限** |
| `/vendor/` | **厂商分区** | 存放设备制造商（如三星、小米）提供的硬件相关库和软件。通常是**只读**的。 | **受限** |
| `/data/` | **数据分区** | 核心用户数据区，在内部存储中。 | **按规则访问** |
| `/sdcard/` 或 `/storage/emulated/0/` | **共享存储** | 模拟的“SD卡”空间，用于存储用户共享的媒体和文档。 | **按规则访问** |

---

### 二、 预装应用安装在哪？

预装应用分为两类，安装在不同的位置：

1.  **系统预装应用**
    *   **路径**： `/system/app/` 和 `/system/priv-app/`
    *   **特点**：
        *   **`/system/app/`**： 存放普通的系统应用。这些应用可以被用户禁用，但通常不能直接卸载（除非有 root 权限）。
        *   **`/system/priv-app/`**： 存放拥有**特权权限** 的系统核心应用（如系统设置、默认拨号器、联系人等）。这些应用权限更高，对系统有更深层的访问能力。
    *   **性质**： 这些应用被“烧录”在系统只读分区中，恢复出厂设置后会还原。

2.  **厂商/运营商预装应用**
    *   **路径**： `/data/app/` （但被标记为预装）
    *   **特点**：
        *   设备制造商或运营商为了推广，在出厂前将 APK 安装到用户数据分区。
        *   这些应用**可以被用户卸载**。
        *   恢复出厂设置后，这些应用会被重新安装。

---

### 三、 普通应用可以访问的目录（无 Root）

对于普通应用（没有特殊权限或 root），其访问能力被严格限制在沙盒内和授权的公共区域。

| 路径 | 可读？ | 可写？ | 说明 |
| :--- | :--- | :--- | :--- |
| **应用私有目录** (`/data/data/<package_name>/` 或 `/data/user/0/<package_name>/`) | **是** | **是** | **沙盒核心**。其他应用无法访问（除非共享用户ID或root）。存放数据库、偏好设置、私有缓存等。 |
| **应用外部私有目录** (`/sdcard/Android/data/<package_name>/`) | **是** | **是** | 在共享存储上的私有空间。**从 Android 11 开始，其他应用无法访问此目录**。应用被卸载后，此目录会被清除。 |
| **公共共享存储** (`/sdcard/` 或 `/storage/emulated/0/`) | **需授权** | **需授权** | 存放 `Downloads`, `DCIM`, `Pictures`, `Music` 等文件夹。访问需要 `READ_EXTERNAL_STORAGE` 和 `WRITE_EXTERNAL_STORAGE` 权限。 |
| **公共媒体集合** | **受限读** | **受限写** | 从 Android 10 引入。应用无需权限即可访问其他应用的媒体文件（图片、视频、音频），但仅限于通过系统“选择器”或 MediaStore API。直接文件路径访问被禁止。 |
| **所有文件访问权限** | **否** | **否** | 普通应用无法遍历整个共享存储。需要特殊权限 `MANAGE_EXTERNAL_STORAGE`，并且需要用户手动在设置中授权，谷歌对此审核严格。 |

**总结**：普通应用的核心活动范围是 **自己的沙盒** 和 **授权的公共媒体区域**。

---

### 四、 Android 存储读写权限收紧历史

Android 的存储权限演变是一部“收紧史”，核心目标是保护用户隐私和数据安全。

| Android 版本 | 代号 | 核心变化 |
| :--- | :--- | :--- |
| **Android 1.0 - 4.4** | ... | **粗放管理期**：申请 `WRITE_EXTERNAL_STORAGE` 权限即可**完全读写整个 SD 卡**。应用可以随意查看、修改、删除任何其他应用的文件。 |
| **Android 4.4** | KitKat | **第一次收紧**： 引入 `READ_EXTERNAL_STORAGE` 权限。应用要**读取**共享存储，也需要明确申请权限。但 `WRITE` 权限依然等同于完全访问。 |
| **Android 6.0** | Marshmallow | **权限模型革命**： 引入**运行时权限**。存储权限不再在安装时一次性授予，而是在应用使用时动态申请。用户可以选择拒绝。 |
| **Android 10** | Q | **分区存储** 的引入。 <br>1. **无需权限**：应用可直接访问自身外部私有目录和公共媒体集合（图片、视频、音频）。<br>2. **受限访问**：无法通过文件路径直接访问其他非媒体文件。需要使用系统的文件选择器。<br>3. **宽限期**：通过 `requestLegacyExternalStorage` 属性可以暂时沿用旧模式。 |
| **Android 11** | R | **分区存储强制实施**。 <br>1. 针对目标 API 30 的应用，**强制启用分区存储**，无法再豁免。<br>2. 进一步限制了对其他应用外部私有目录 (`Android/data/`) 的访问。<br>3. 引入 `MANAGE_EXTERNAL_STORAGE` 权限，用于需要完全文件管理器功能的特殊应用，但上架 Google Play 审核极其严格。 |
| **Android 13** | T | **更细粒度的媒体权限**。 将 `READ_EXTERNAL_STORAGE` 拆分为：<br>- `READ_MEDIA_IMAGES`（读图片）<br>- `READ_MEDIA_VIDEO`（读视频）<br>- `READ_MEDIA_AUDIO`（读音频）<br>应用可以按需申请，无需一次性获取所有媒体的读取权。 |
| **Android 14** | U | **进一步限制**。 <br>1. 即使拥有 `MANAGE_EXTERNAL_STORAGE` 权限，应用也无法访问某些特定目录（如 `/Android/data/` 和 `/Android/obb/`）。<br>2. 对从应用商店安装的应用，针对旧版 API 的应用也部分限制了宽限期。 |

### 总结

Android 存储权限的演进路径非常清晰：
*   **从粗放到精细**：从“全部或没有”到按文件类型（图片、视频、音频）授权。
*   **从安装时到运行时**：用户控制权增强，可以随时授予或撤销权限。
*   **从自由访问到沙盒隔离**：严格限制应用访问彼此的数据，除非通过用户明确操作的系统接口（如文件选择器）。
*   **目标**：最大限度地保护用户隐私，防止恶意应用窃取数据，同时为合法的文件管理需求保留了一个高门槛的“后门”。