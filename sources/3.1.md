åœ¨ Android ä¸­ï¼Œ`BroadcastReceiver`ï¼ˆå¹¿æ’­æ¥æ”¶å™¨ï¼‰ç”¨äºç›‘å¬ç³»ç»Ÿæˆ–åº”ç”¨å‘å‡ºçš„å¹¿æ’­æ¶ˆæ¯ï¼Œå®ƒæœ‰ä¸¤ç§æ³¨å†Œæ–¹å¼ï¼š  

1. **é™æ€æ³¨å†Œï¼ˆManifest å£°æ˜ï¼‰**  
2. **åŠ¨æ€æ³¨å†Œï¼ˆä»£ç æ³¨å†Œï¼‰**  

å®ƒä»¬çš„æ ¸å¿ƒåŒºåˆ«åœ¨äº **æ³¨å†Œæ–¹å¼ã€ç”Ÿå‘½å‘¨æœŸã€é€‚ç”¨åœºæ™¯**ã€‚ä¸‹é¢è¯¦ç»†å¯¹æ¯”åˆ†æï¼š

---

## **ğŸ“Œ 1. é™æ€æ³¨å†Œï¼ˆManifest å£°æ˜ï¼‰**
### **æ³¨å†Œæ–¹å¼**
åœ¨ `AndroidManifest.xml` ä¸­å£°æ˜ `<receiver>`ï¼š
```xml
<receiver android:name=".MyReceiver" android:exported="true">
    <intent-filter>
        <action android:name="android.intent.action.BOOT_COMPLETED" />
    </intent-filter>
</receiver>
```
**ç‰¹ç‚¹**ï¼š
- **å…¨å±€ç”Ÿæ•ˆ**ï¼Œå³ä½¿åº”ç”¨æœªè¿è¡Œä¹Ÿèƒ½æ¥æ”¶å¹¿æ’­ï¼ˆå¦‚å¼€æœºå¯åŠ¨ `BOOT_COMPLETED`ï¼‰ã€‚  
- **ç³»ç»Ÿè‡ªåŠ¨ç®¡ç†**ï¼Œæ— éœ€æ‰‹åŠ¨æ³¨å†Œ/æ³¨é”€ã€‚  

### **é€‚ç”¨åœºæ™¯**
âœ… **ç›‘å¬ç³»ç»Ÿå¹¿æ’­**ï¼ˆå¦‚å¼€æœºã€ç½‘ç»œå˜åŒ–ã€ç”µæ± çŠ¶æ€ï¼‰ã€‚  
âœ… **è·¨è¿›ç¨‹é€šä¿¡**ï¼ˆ`exported="true"` å…è®¸å…¶ä»– App å‘é€å¹¿æ’­ï¼‰ã€‚  

### **é™åˆ¶**
âŒ **Android 8.0+ é™åˆ¶**ï¼š  
- å¤§éƒ¨åˆ† **éšå¼å¹¿æ’­**ï¼ˆéç‰¹å®š App çš„å¹¿æ’­ï¼‰æ— æ³•é™æ€æ³¨å†Œï¼ˆå¦‚ `CONNECTIVITY_CHANGE`ï¼‰ã€‚  
- éœ€æ”¹ç”¨ **åŠ¨æ€æ³¨å†Œ** æˆ– **JobScheduler**ã€‚  

---

## **ğŸ“Œ 2. åŠ¨æ€æ³¨å†Œï¼ˆä»£ç æ³¨å†Œï¼‰**
### **æ³¨å†Œæ–¹å¼**
åœ¨ `Activity`/`Service` ç­‰ç»„ä»¶ä¸­è°ƒç”¨ `registerReceiver()`ï¼š
```java
// 1. å®šä¹‰ BroadcastReceiver
BroadcastReceiver receiver = new BroadcastReceiver() {
    @Override
    public void onReceive(Context context, Intent intent) {
        Log.d("Receiver", "æ”¶åˆ°å¹¿æ’­: " + intent.getAction());
    }
};

// 2. åŠ¨æ€æ³¨å†Œï¼ˆé€šå¸¸åœ¨ onStart()/onResume()ï¼‰
IntentFilter filter = new IntentFilter();
filter.addAction("com.example.MY_CUSTOM_ACTION");
registerReceiver(receiver, filter);

// 3. å¿…é¡»æ‰‹åŠ¨æ³¨é”€ï¼ˆé€šå¸¸åœ¨ onStop()/onDestroy()ï¼‰
unregisterReceiver(receiver);
```
**ç‰¹ç‚¹**ï¼š
- **çµæ´»æ§åˆ¶**ï¼Œåªåœ¨ç»„ä»¶æ´»è·ƒæ—¶æ¥æ”¶å¹¿æ’­ã€‚  
- **æ‰‹åŠ¨ç®¡ç†ç”Ÿå‘½å‘¨æœŸ**ï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚  

### **é€‚ç”¨åœºæ™¯**
âœ… **åº”ç”¨å†…é€šä¿¡**ï¼ˆå¦‚é€šçŸ¥æŸä¸ªç•Œé¢æ›´æ–°ï¼‰ã€‚  
âœ… **ç›‘å¬é¢‘ç¹å˜åŒ–çš„å¹¿æ’­**ï¼ˆå¦‚å±å¹•äº®ç­ã€è€³æœºæ’æ‹”ï¼‰ã€‚  

### **é™åˆ¶**
âŒ **ä¾èµ–ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ**ï¼Œç»„ä»¶é”€æ¯åæ— æ³•æ¥æ”¶å¹¿æ’­ï¼ˆéœ€é‡æ–°æ³¨å†Œï¼‰ã€‚  

---

## **ğŸ“Š ä¸¤ç§æ–¹å¼å¯¹æ¯”**
| **ç‰¹æ€§**               | **é™æ€æ³¨å†Œ**                  | **åŠ¨æ€æ³¨å†Œ**                  |
|-----------------------|-----------------------------|-----------------------------|
| **æ³¨å†Œæ–¹å¼**          | `AndroidManifest.xml`        | `registerReceiver()`         |
| **ç”Ÿæ•ˆèŒƒå›´**          | å…¨å±€ï¼ˆå³ä½¿åº”ç”¨æœªè¿è¡Œï¼‰         | ä»…å½“æ³¨å†Œçš„ç»„ä»¶æ´»è·ƒæ—¶ç”Ÿæ•ˆ         |
| **ç”Ÿå‘½å‘¨æœŸ**          | ç”±ç³»ç»Ÿç®¡ç†ï¼Œé•¿æœŸæœ‰æ•ˆ            | éœ€æ‰‹åŠ¨æ³¨å†Œ/æ³¨é”€ï¼Œéšç»„ä»¶é”€æ¯å¤±æ•ˆ   |
| **Android 8.0+ é™åˆ¶** | å¤§éƒ¨åˆ†éšå¼å¹¿æ’­ä¸å¯ç”¨            | ä¸å—é™åˆ¶                      |
| **è·¨è¿›ç¨‹é€šä¿¡**        | æ”¯æŒï¼ˆ`exported="true"`ï¼‰     | ä»…é™å½“å‰åº”ç”¨                  |
| **å…¸å‹ç”¨é€”**          | ç›‘å¬ç³»ç»Ÿäº‹ä»¶ï¼ˆå¦‚å¼€æœºã€å……ç”µï¼‰     | åº”ç”¨å†…å®æ—¶é€šä¿¡ï¼ˆå¦‚æ›´æ–° UIï¼‰      |

---

## **âš¡ æœ€ä½³å®è·µ**
1. **ä¼˜å…ˆç”¨åŠ¨æ€æ³¨å†Œ**ï¼ˆé¿å… Android 8.0+ çš„é™æ€æ³¨å†Œé™åˆ¶ï¼‰ã€‚  
2. **é™æ€æ³¨å†Œä»…ç”¨äºå¿…è¦çš„ç³»ç»Ÿå¹¿æ’­**ï¼ˆå¦‚ `BOOT_COMPLETED`ï¼‰ã€‚  
3. **åŠ¨æ€æ³¨å†ŒåŠ¡å¿…é…å¯¹æ³¨é”€**ï¼ˆé˜²æ­¢å†…å­˜æ³„æ¼ï¼‰ï¼š
   ```java
   @Override
   protected void onStart() {
       super.onStart();
       registerReceiver(receiver, filter);
   }

   @Override
   protected void onStop() {
       super.onStop();
       unregisterReceiver(receiver);
   }
   ```
4. **é«˜ç‰ˆæœ¬ Android æ¨èæ›¿ä»£æ–¹æ¡ˆ**ï¼š
   - ç”¨ `WorkManager` æ›¿ä»£åå°å¹¿æ’­ã€‚  
   - ç”¨ `LocalBroadcastManager`ï¼ˆå·²åºŸå¼ƒï¼‰æˆ– `LiveData` æ›¿ä»£åº”ç”¨å†…é€šä¿¡ã€‚  

---

## **ğŸ’¡ ç¤ºä¾‹åœºæ™¯**
### **é™æ€æ³¨å†Œï¼ˆç›‘å¬å¼€æœºå¯åŠ¨ï¼‰**
```xml
<!-- AndroidManifest.xml -->
<receiver android:name=".BootReceiver" android:exported="true">
    <intent-filter>
        <action android:name="android.intent.action.BOOT_COMPLETED" />
    </intent-filter>
</receiver>
```
```java
public class BootReceiver extends BroadcastReceiver {
    @Override
    public void onReceive(Context context, Intent intent) {
        if (Intent.ACTION_BOOT_COMPLETED.equals(intent.getAction())) {
            Log.d("BootReceiver", "ç³»ç»Ÿå¯åŠ¨å®Œæˆï¼");
        }
    }
}
```

### **åŠ¨æ€æ³¨å†Œï¼ˆç›‘å¬ç½‘ç»œå˜åŒ–ï¼‰**
```java
// åœ¨ Activity ä¸­æ³¨å†Œ
@Override
protected void onStart() {
    super.onStart();
    IntentFilter filter = new IntentFilter(ConnectivityManager.CONNECTIVITY_ACTION);
    registerReceiver(networkReceiver, filter);
}

private BroadcastReceiver networkReceiver = new BroadcastReceiver() {
    @Override
    public void onReceive(Context context, Intent intent) {
        Log.d("NetworkReceiver", "ç½‘ç»œçŠ¶æ€å˜åŒ–");
    }
};

@Override
protected void onStop() {
    super.onStop();
    unregisterReceiver(networkReceiver);
}
```

---

## **æ€»ç»“**
- **é™æ€æ³¨å†Œ**ï¼šé•¿æœŸç›‘å¬ç³»ç»Ÿäº‹ä»¶ï¼Œä½†å— Android 8.0+ é™åˆ¶ã€‚  
- **åŠ¨æ€æ³¨å†Œ**ï¼šçµæ´»å¯æ§ï¼Œé€‚åˆåº”ç”¨å†…å®æ—¶é€šä¿¡ï¼Œéœ€æ‰‹åŠ¨ç®¡ç†ç”Ÿå‘½å‘¨æœŸã€‚  
- **Android é«˜ç‰ˆæœ¬æ¨è**ï¼šå°½é‡ä½¿ç”¨ `WorkManager`ã€`LiveData` ç­‰ç°ä»£æ›¿ä»£æ–¹æ¡ˆã€‚