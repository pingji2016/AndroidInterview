在 Android 中实现转场动画可以让应用界面切换更加流畅和美观。以下是几种常见的转场动画实现方式：

## 1. Activity 转场动画

### 1.1 使用 overridePendingTransition

```java
// 启动 Activity 时设置
Intent intent = new Intent(this, SecondActivity.class);
startActivity(intent);
overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);

// 结束 Activity 时设置
@Override
public void finish() {
    super.finish();
    overridePendingTransition(R.anim.slide_in_left, R.anim.slide_out_right);
}
```

### 1.2 使用 ActivityOptions (API 21+)

```java
// 共享元素转场
Intent intent = new Intent(this, SecondActivity.class);
ActivityOptions options = ActivityOptions.makeSceneTransitionAnimation(
    this, 
    view, // 共享的 View
    "transition_name" // 共享元素名称
);
startActivity(intent, options.toBundle());

// 自定义转场动画
ActivityOptions options = ActivityOptions.makeCustomAnimation(
    this,
    R.anim.slide_in_bottom,
    R.anim.slide_out_top
);
startActivity(intent, options.toBundle());
```

## 2. Fragment 转场动画

### 2.1 使用 setCustomAnimations

```java
FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();
transaction.setCustomAnimations(
    R.anim.slide_in_right,    // 进入
    R.anim.slide_out_left,    // 退出
    R.anim.slide_in_left,     // 弹出进入
    R.anim.slide_out_right    // 弹出退出
);
transaction.replace(R.id.fragment_container, new MyFragment());
transaction.addToBackStack(null);
transaction.commit();
```

### 2.2 使用共享元素转场 (API 21+)

```java
Fragment fragment = new DetailFragment();

// 设置共享元素转场
fragment.setSharedElementEnterTransition(TransitionInflater.from(this)
    .inflateTransition(R.transition.shared_element));

// 添加共享元素
getSupportFragmentManager().beginTransaction()
    .addSharedElement(sharedView, "transition_name")
    .replace(R.id.container, fragment)
    .addToBackStack(null)
    .commit();
```

## 3. 动画资源文件

### 3.1 slide_in_right.xml
```xml
<?xml version="1.0" encoding="utf-8"?>
<set xmlns:android="http://schemas.android.com/apk/res/android">
    <translate
        android:duration="300"
        android:fromXDelta="100%"
        android:toXDelta="0%" />
    <alpha
        android:duration="300"
        android:fromAlpha="0.0"
        android:toAlpha="1.0" />
</set>
```

### 3.2 slide_out_left.xml
```xml
<?xml version="1.0" encoding="utf-8"?>
<set xmlns:android="http://schemas.android.com/apk/res/android">
    <translate
        android:duration="300"
        android:fromXDelta="0%"
        android:toXDelta="-100%" />
    <alpha
        android:duration="300"
        android:fromAlpha="1.0"
        android:toAlpha="0.0" />
</set>
```

### 3.3 fade_in.xml
```xml
<?xml version="1.0" encoding="utf-8"?>
<alpha xmlns:android="http://schemas.android.com/apk/res/android"
    android:duration="400"
    android:fromAlpha="0.0"
    android:toAlpha="1.0" />
```

## 4. 共享元素转场配置

### 4.1 transition.xml
```xml
<?xml version="1.0" encoding="utf-8"?>
<transitionSet xmlns:android="http://schemas.android.com/apk/res/android">
    <changeBounds/>
    <changeTransform/>
    <changeImageTransform/>
</transitionSet>
```

### 4.2 在布局中设置 transitionName
```xml
<!-- 第一个 Activity/Fragment -->
<ImageView
    android:id="@+id/image_view"
    android:transitionName="shared_image"
    ... />

<!-- 第二个 Activity/Fragment -->
<ImageView
    android:id="@+id/detail_image"
    android:transitionName="shared_image"
    ... />
```

## 5. 使用 MotionLayout 实现复杂转场

```xml
<!-- motion_scene.xml -->
<MotionScene xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <Transition
        app:constraintSetStart="@+id/start"
        app:constraintSetEnd="@+id/end"
        app:duration="300">
        
        <OnClick app:targetId="@+id/button" />
        
    </Transition>

    <ConstraintSet android:id="@+id/start">
        <Constraint
            android:id="@+id/button"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent" />
    </ConstraintSet>

    <ConstraintSet android:id="@+id/end">
        <Constraint
            android:id="@+id/button"
            android:layout_width="0dp"
            android:layout_height="56dp"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent" />
    </ConstraintSet>
</MotionScene>
```

## 6. 代码示例：完整的 Activity 转场

```java
public class MainActivity extends AppCompatActivity {
    
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        
        ImageView sharedImage = findViewById(R.id.shared_image);
        
        sharedImage.setOnClickListener(v -> {
            Intent intent = new Intent(this, DetailActivity.class);
            
            // 创建共享元素选项
            ActivityOptions options = ActivityOptions.makeSceneTransitionAnimation(
                this,
                sharedImage,
                "shared_image"
            );
            
            startActivity(intent, options.toBundle());
        });
    }
}

// DetailActivity
public class DetailActivity extends AppCompatActivity {
    
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_detail);
        
        // 设置进入和退出过渡
        getWindow().setEnterTransition(new Slide(Gravity.RIGHT));
        getWindow().setExitTransition(new Slide(Gravity.LEFT));
    }
    
    @Override
    public void onBackPressed() {
        super.onBackPressed();
        // 支持返回动画
        supportFinishAfterTransition();
    }
}
```

## 7. 注意事项

1. **性能优化**：避免在低端设备上使用复杂动画
2. **内存管理**：及时清理动画资源
3. **兼容性**：为低版本 Android 提供回退方案
4. **用户体验**：保持动画时长适中（200-500ms）

这些方法可以帮助你创建流畅的转场动画，提升应用的用户体验。根据具体需求选择合适的实现方式。